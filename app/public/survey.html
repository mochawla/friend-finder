<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FriendFinder</title>

    <!-- Bootstrap CSS & JS CDN -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <!--JQuery CDN-->
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

</head>

<body>
    <div class = "container">

        <!--Survey Start -->
        <h1>Survey Questions</h1>

        <hr>
    
        <h3><strong>Tell Me About Yourself</strong></h3>
        <h4>Name (Required)</h4>
        <input class="form-control" id="name" type="text" placeholder="name">

        <h4>Link to Your Picture (Required)</h4>
        <input class="form-control" id="picture" type="text" placeholder="http://">

        <hr>


        <!--Questions -->

        <h3><strong>Question 1</strong></h3>
        <h4>I'd rather spend my night out meeting new people than reading a book.</h4>
        <div class="form-group">
            <select class="form-control" id="question1">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          
          <h3><strong>Question 2</strong></h3>
        <h4>No matter what happens I try to stay positive.</h4>
        <div class="form-group">
            <select class="form-control" id="question2">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 3</strong></h3>
        <h4>I treat all people with respect even if they don't deserve it.</h4>
        <div class="form-group">
            <select class="form-control" id="question3">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 4</strong></h3>
        <h4>I stay in the present moment and don't worry about the past or future.</h4>
        <div class="form-group">
            <select class="form-control" id="question4">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 5</strong></h3>
        <h4>I love animals. Almost as much as humans.</h4>
        <div class="form-group">
            <select class="form-control" id="question5">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 6</strong></h3>
        <h4>I believe everyone has the basic right to have their own opinion.</h4>
        <div class="form-group">
            <select class="form-control" id="question6">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 7</strong></h3>
        <h4>I don't care what other people think about me.</h4>
        <div class="form-group">
            <select class="form-control" id="question7">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 8</strong></h3>
        <h4>I am very ambitious and have many high goals in life.</h4>
        <div class="form-group">
            <select class="form-control" id="question8">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>

          <h3><strong>Question 9</strong></h3>
        <h4>Money isn't everything.</h4>
        <div class="form-group">
            <select class="form-control" id="question9">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
          </div>


          <h3><strong>Question 10</strong></h3>
        <h4>I value myself much more than I value others.</h4>
        <div class="form-group">
            <select class="form-control" id="question10">
              <option value = ""></option>  
              <option value = "1">1 (Strongly Disagree)</option>
              <option value = "2">2</option>
              <option value = "3">3</option>
              <option value = "4">4</option>
              <option value = "5">5 (Strongly Agree)</option>
            </select>
        </div>

        <br><br>

       
    <!--submit button -->    
    <button type="submit" class="btn btn-primary btn-lg" id="submit">Submit</button>    

        <br><br>

    <!--links -->
    <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href=https://github.com/mochawla/friend-finder>GitHub Repo</a></p>      
      </div>

</div>


<!-- Modal -->
<div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">
     
         <!-- Modal content -->
          <div class="modal-content"> 
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h2 class="modal-title"><strong>Here is Your Match</strong></h2>
            </div>
            <div class="modal-body">
              <h2 id="results-name"></h2>
              <img id="results-img" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/6/005/064/1bd/3435aa3.jpg" alt="">
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
          </div>
    
        </div>
      </div>

      <!--Javascript-->
      <script type = "text/javascript">
      
      $("#submit").on("click", function(){
        event.preventDefault();

        var newFriend = {
            "name": $('#name').val(),
            "photo":$('#picture').val(),
             "scores":[
                 $('#question1').val(), 
                 $('#question2').val(), 
                 $('#question3').val(), 
                 $('#question4').val(), 
                 $('#question5').val(), 
                 $('#question6').val(), 
                 $('#question7').val(),
                 $('#question8').val(),
                 $('#question9').val(),
                 $('#question10').val()
                       ]
            

        }
        
        
        
     //Ajax post request to post captured data to /api/friends route
     $.post("/api/friends", newFriend, function(data) {

    // Display closest match result name and photo
    $("#results-name").text(data.name);
    $("#results-img").attr("src", data.picture);

    // Show the modal 
    $("#results-modal").modal("toggle");

});

      });
      
      
      </script>


</body>

</html>